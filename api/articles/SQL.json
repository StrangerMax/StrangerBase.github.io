{"title":"数据库-查询","uid":"fdb6a521ab89f404af42557593409f9d","slug":"SQL","date":"2022-06-01T11:49:31.000Z","updated":"2022-06-02T11:36:30.185Z","comments":true,"path":"api/articles/SQL.json","keywords":null,"cover":"https://pic.3gbizhi.com/2020/0904/20200904073240878.jpg.556.308.jpg","content":"<ul>\n<li>连接查询： 内连接&#x2F;左连接&#x2F;右连接&#x2F;自关联</li>\n<li>子查询：查询语句中包含另一个查询语句</li>\n<li>数据库高级： 数据库ER 模型 &#x2F; 外键 &#x2F; 索引</li>\n</ul>\n<h1 id=\"SQL数据库\"><a href=\"#SQL数据库\" class=\"headerlink\" title=\"SQL数据库\"></a>SQL数据库</h1><h2 id=\"通配符\"><a href=\"#通配符\" class=\"headerlink\" title=\"通配符\"></a>通配符</h2><ul>\n<li><p>通配符可用于替代字符串中的任何其他字符。</p>\n<ul>\n<li><table>\n<thead>\n<tr>\n<th>通配符</th>\n<th align=\"center\">描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>%</td>\n<td align=\"center\">替代 0 个或多个字符</td>\n</tr>\n<tr>\n<td>_</td>\n<td align=\"center\">替代一个字符</td>\n</tr>\n<tr>\n<td>[<em>charlist</em>]</td>\n<td align=\"center\">字符列中的任何单一字符</td>\n</tr>\n<tr>\n<td>[^<em>charlist</em>] 或 [!<em>charlist</em>]</td>\n<td align=\"center\">不在字符列中的任何单一字</td>\n</tr>\n</tbody></table>\n</li>\n</ul>\n</li>\n</ul>\n<h2 id=\"连接查询\"><a href=\"#连接查询\" class=\"headerlink\" title=\"连接查询\"></a>连接查询</h2><h3 id=\"SQL-连接-JOIN\"><a href=\"#SQL-连接-JOIN\" class=\"headerlink\" title=\"SQL 连接(JOIN)\"></a>SQL 连接(JOIN)</h3><p><img src=\"https://www.runoob.com/wp-content/uploads/2019/01/sql-join.png\" alt=\"JOIN相关七种用法\"></p>\n<ul>\n<li>JOIN 子句用于把来自两个或多个表的行结合起来，基于这些表之间的共同字段</li>\n<li>最简单常用的是内连接 INNER JOIN：从多个表中返回满足 JOIN 条件的所有行</li>\n<li>不同的<strong>JOIN</strong><ul>\n<li><strong>INNER JOIN</strong>：如果表中有至少一个匹配，则返回行</li>\n<li><strong>LEFT JOIN</strong>：即使右表中没有匹配，也从左表返回所有的行</li>\n<li><strong>RIGHT JOIN</strong>：即使左表中没有匹配，也从右表返回所有的行</li>\n<li><strong>FULL JOIN</strong>：只要其中一个表中存在匹配，则返回行</li>\n</ul>\n</li>\n</ul>\n<h3 id=\"内连接\"><a href=\"#内连接\" class=\"headerlink\" title=\"内连接\"></a>内连接</h3><p><img src=\"https://www.runoob.com/wp-content/uploads/2013/09/img_innerjoin.gif\"></p>\n<ul>\n<li><p>内连接：查询结果为两个表匹配到的数据</p>\n<pre class=\"line-numbers language-mysql\" data-language=\"mysql\"><code class=\"language-mysql\">SELECT * \nFROM table1 \nINNER JOIN table2 \nON table1.column_name&#x3D;table2.column_name;</code></pre>\n\n<p><strong>注：</strong> INNER JOIN 关键字在表中存在至少一个匹配时返回行。</p>\n</li>\n</ul>\n<h3 id=\"左连接\"><a href=\"#左连接\" class=\"headerlink\" title=\"左连接\"></a>左连接</h3><p><img src=\"https://www.runoob.com/wp-content/uploads/2013/09/img_leftjoin.gif\"></p>\n<ul>\n<li><p>左连接：查询结果为两个表匹配到的数据加左表特有的数据，对于右表不存在的数据使用null</p>\n<pre class=\"line-numbers language-mysql\" data-language=\"mysql\"><code class=\"language-mysql\">SELECT column_name(s)\nFROM table1\nLEFT JOIN table2\nON table1.column_name&#x3D;table2.column_name;</code></pre></li>\n</ul>\n<p>​\t   <strong>注：</strong> LEFT JOIN 关键字从左表（Websites）返回所有的行，即使右表（access_log）中没有匹配</p>\n<h3 id=\"右连接\"><a href=\"#右连接\" class=\"headerlink\" title=\"右连接\"></a>右连接</h3><p><img src=\"https://www.runoob.com/wp-content/uploads/2013/09/img_rightjoin.gif\"></p>\n<ul>\n<li><p>右连接：查询结果为两个表匹配到的数据加右表特有的数据，对于左表不存在的数据使用null</p>\n<pre class=\"line-numbers language-mysql\" data-language=\"mysql\"><code class=\"language-mysql\">SELECT column_name(s)\nFROM table1\nRIGHT JOIN table2\nON table1.column_name&#x3D;table2.column_name;</code></pre>\n\n<p><strong>注：</strong> RIGHT JOIN 关键字从右表（access_log）返回所有的行，即使左表（Websites）中没有匹配。</p>\n</li>\n</ul>\n<h3 id=\"全连接\"><a href=\"#全连接\" class=\"headerlink\" title=\"全连接\"></a>全连接</h3><p><img src=\"https://www.runoob.com/wp-content/uploads/2013/09/img_fulljoin.gif\"></p>\n<ul>\n<li><p>全连接：只要左表（table1）和右表（table2）其中一个表中存在匹配，则返回行（<strong>注意</strong>：MySQL中<strong>不支持</strong>FULL JOIN）</p>\n<pre class=\"line-numbers language-sql\" data-language=\"sql\"><code class=\"language-sql\">SELECT column_name(s)\nFROM table1\nFULL OUTER JOIN table2\nON table1.column_name&#x3D;table2.column_name;</code></pre></li>\n</ul>\n<h2 id=\"自关联\"><a href=\"#自关联\" class=\"headerlink\" title=\"自关联\"></a>自关联</h2><p><strong>前提：</strong></p>\n<ul>\n<li>数据表只有一张</li>\n<li>数据表中至少有两个字段之间有某种联系</li>\n</ul>\n<p><strong>方式：</strong></p>\n<ul>\n<li>通过给表起别民将一张数据表变成两张，然后通过对应字段实现连接查询</li>\n</ul>\n<h2 id=\"子查询\"><a href=\"#子查询\" class=\"headerlink\" title=\"子查询\"></a>子查询</h2><p><strong>子查询：</strong>在一个SELECT语句中，嵌入另外一个SELECT语句，嵌入的即为子查询</p>\n<h3 id=\"子查询与主查询\"><a href=\"#子查询与主查询\" class=\"headerlink\" title=\"子查询与主查询\"></a>子查询与主查询</h3><ul>\n<li>子查询是嵌入到主查询中的</li>\n<li>子查询是辅助主查询，要么<strong>充当条件</strong>要么<strong>充当数据源</strong></li>\n<li>子查询是可以独立使用的语句，是一条完整的SELECT语句</li>\n</ul>\n<h2 id=\"数据库设计\"><a href=\"#数据库设计\" class=\"headerlink\" title=\"数据库设计\"></a>数据库设计</h2><h3 id=\"E-R模型\"><a href=\"#E-R模型\" class=\"headerlink\" title=\"E-R模型\"></a>E-R模型</h3><p><em><strong>数据库能够有效存储现时世界中有意义的数据，通过E-R图能够更加有效的模拟现实师姐</strong></em></p>\n<p>基本元素：<strong>实体、联系、属性</strong></p>\n<ul>\n<li>E表示entry，实体：描述具有相同特征事务的抽象</li>\n<li>属性：每个实体的具有的各种特征为属性</li>\n<li>R 表示 relationship，联系：实体之间存在各种关系，关系的类型包括<strong>一对一，一对多，多对多</strong></li>\n</ul>\n<h3 id=\"主键与外键\"><a href=\"#主键与外键\" class=\"headerlink\" title=\"主键与外键\"></a>主键与外键</h3><p><strong>主键：</strong>唯一的标识一条记录，不能重复，不能为空；用来保证数据完整性</p>\n<p><strong>外键：</strong>一表的属性是另一表的主键，可以重复，可以为空；用于与其他表建立联系</p>\n<h3 id=\"索引\"><a href=\"#索引\" class=\"headerlink\" title=\"索引\"></a>索引</h3><p><strong>索引：</strong>对 <strong>数据库</strong> 表中一列或多列的值进行排序的一种结构，使用索引可快速访问数据库表中的特定信息；提高查询排序的速度</p>\n<ul>\n<li>优点：<ul>\n<li>加快数据的检索速度，降低数据库的 IO 成本</li>\n<li>通过索引列对数据进行排序，降低数据排序的成本，降低 CPU 的消耗</li>\n</ul>\n</li>\n<li>缺点：<ul>\n<li>占物理空间-索引文件本身很大，存储在磁盘上</li>\n<li>降低更新表的速度，创建和维护耗费时间，增删改查也需要进行动态维护，降低增删改查执行效率</li>\n</ul>\n</li>\n</ul>\n<p><strong>参考：</strong></p>\n<p><a href=\"https://www.runoob.com/sql/sql-tutorial.html\">SQL 教程 | 菜鸟教程 (runoob.com)</a></p>\n","feature":true,"text":" 连接查询： 内连接&#x2F;左连接&#x2F;右连接&#x2F;自关联 子查询：查询语句中包含另一个查询语句 数据库高级： 数据库ER 模型 &#x2F; 外键 &#x2F; 索引 SQL数据库通配符 通配符可用于替代字符串中的任何其他字符。 通配符 描述 % 替代 0 个或...","link":"","photos":[],"count_time":{"symbolsCount":"1.9k","symbolsTime":"2 mins."},"categories":[],"tags":[{"name":"SQL","slug":"SQL","count":1,"path":"api/tags/SQL.json"},{"name":"连接查询","slug":"连接查询","count":1,"path":"api/tags/连接查询.json"},{"name":"子查询","slug":"子查询","count":1,"path":"api/tags/子查询.json"},{"name":"高级","slug":"高级","count":1,"path":"api/tags/高级.json"}],"toc":"<ol class=\"toc\"><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#SQL%E6%95%B0%E6%8D%AE%E5%BA%93\"><span class=\"toc-text\">SQL数据库</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E9%80%9A%E9%85%8D%E7%AC%A6\"><span class=\"toc-text\">通配符</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E8%BF%9E%E6%8E%A5%E6%9F%A5%E8%AF%A2\"><span class=\"toc-text\">连接查询</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#SQL-%E8%BF%9E%E6%8E%A5-JOIN\"><span class=\"toc-text\">SQL 连接(JOIN)</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E5%86%85%E8%BF%9E%E6%8E%A5\"><span class=\"toc-text\">内连接</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E5%B7%A6%E8%BF%9E%E6%8E%A5\"><span class=\"toc-text\">左连接</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E5%8F%B3%E8%BF%9E%E6%8E%A5\"><span class=\"toc-text\">右连接</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E5%85%A8%E8%BF%9E%E6%8E%A5\"><span class=\"toc-text\">全连接</span></a></li></ol></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E8%87%AA%E5%85%B3%E8%81%94\"><span class=\"toc-text\">自关联</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E5%AD%90%E6%9F%A5%E8%AF%A2\"><span class=\"toc-text\">子查询</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E5%AD%90%E6%9F%A5%E8%AF%A2%E4%B8%8E%E4%B8%BB%E6%9F%A5%E8%AF%A2\"><span class=\"toc-text\">子查询与主查询</span></a></li></ol></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E6%95%B0%E6%8D%AE%E5%BA%93%E8%AE%BE%E8%AE%A1\"><span class=\"toc-text\">数据库设计</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#E-R%E6%A8%A1%E5%9E%8B\"><span class=\"toc-text\">E-R模型</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E4%B8%BB%E9%94%AE%E4%B8%8E%E5%A4%96%E9%94%AE\"><span class=\"toc-text\">主键与外键</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E7%B4%A2%E5%BC%95\"><span class=\"toc-text\">索引</span></a></li></ol></li></ol></li></ol>","author":{"name":"StrangerMax","slug":"blog-author","avatar":"https://biaoqingba.cn/wp-content/uploads/2019/10/6447a2207d34433.jpg","link":"/","description":"记录八股文及Go相关内容<br />学起来！！！！","socials":{"github":"https://github.com/StrangerMax","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"https://blog.csdn.net/weixin_43957499","juejin":"","customs":{}}},"mapped":true,"prev_post":{},"next_post":{"title":"Request 自动化测试","uid":"da904cef7bb0ac4414b4ff066d2a6cb4","slug":"python-request","date":"2022-05-31T13:17:18.000Z","updated":"2022-05-31T13:44:53.368Z","comments":true,"path":"api/articles/python-request.json","keywords":null,"cover":"https://pic.3gbizhi.com/2020/0918/thumb_1680_0_20200918123518423.jpg","text":"Get方法 作用 ：获取资源(查询) 步骤： 导包 import requests 调用get方法 r &#x3D; request.get(“xxx”) 响应对象 获取URL：r.url 获取响应状态码: r.status_code 获取响应信息: r.text ","link":"","photos":[],"count_time":{"symbolsCount":140,"symbolsTime":"1 mins."},"categories":[],"tags":[{"name":"Request","slug":"Request","count":1,"path":"api/tags/Request.json"},{"name":"自动化测试","slug":"自动化测试","count":1,"path":"api/tags/自动化测试.json"}],"author":{"name":"StrangerMax","slug":"blog-author","avatar":"https://biaoqingba.cn/wp-content/uploads/2019/10/6447a2207d34433.jpg","link":"/","description":"记录八股文及Go相关内容<br />学起来！！！！","socials":{"github":"https://github.com/StrangerMax","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"https://blog.csdn.net/weixin_43957499","juejin":"","customs":{}}},"feature":true}}